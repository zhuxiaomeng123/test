<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>单例模式-皇帝上朝</title>
	<script type="text/javascript">
		(function(w){
             function King(name){
             	this.name=name;
             	this.id=Math.random();
             }

              King.prototype={
              	constructor:King,
              	__proto__:Object.prototype,
              	say:function(){
                  console.log(this.name+this.id+"say::平身");
              	}
              }

              King.getKing=(function(){
             	var king=null;
                return function(){
                	if(!king){
                		king=new King('平身');
                	}
                	return king;
                }              	
              })();

             w.King=King;
		})(window);

             for (var i = 0; i <=5; i++) {
                 
                 King.getKing().say();
             }
	</script>
</head>
<body>
	
</body>
</html>