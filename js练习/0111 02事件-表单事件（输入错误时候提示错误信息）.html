<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>事件-表单事件（输入错误时候提示表单信息）</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		p{
			width: 300px;
		}
		li{
			list-style: none;
			height: 30px;
			width: 200px;
		}
	</style>
	<script type="text/javascript">
		window.onload=function(){
			var oInput=document.getElementById('username');
			var oTxt=document.getElementById('txt');
			var oSub=document.getElementById('sub');
			var oList=document.getElementById('list');
			var isOk=false;
			var data=['Tom','Eugene','Tommy','Amy','Mike'];
			var isLoaded=false;
			oInput.onfocus=function(){
				 oTxt.style.color='green';
                 oTxt.innerHTML='输入3-6位用户名';
			}
			oInput.onblur=function(){
				var l=oInput.value.length;
				if(l>=3 && l<=6){
				 oTxt.style.color='green';
                 oTxt.innerHTML='输入正确';
                 isOk=true;
				}else {
			     oTxt.style.color='red';
                 oTxt.innerHTML='输入用户名有误';
				}				
			}
			oInput.oninput=function(){
				if(isLoaded){
					return false;
				}
				for (var i = 0; i < data.length; i++) {
					var oLi=document.createElement('li');
					oLi.innerHTML=data[i];
					oList.appendChild(oLi);

					oLi.onclick=function(){
						oInput.value=this.innerHTML;
						oTxt.style.color='green';
                        oTxt.innerHTML='输入正确';
                         isOk=true;
					 }
				 }
				 isLoaded=true;
			   }
			oSub.onclick=function(){
				if(!isOk){
					alert('输入有误，请重新输入');
					return false
				}
				
			}
		}
	</script>
</head>
<body>
	<form action="https://www.kuazhu.com">
		<p>
			<input type="text" id="username" name="username">
			<span id="txt"></span>
			<ul id="list">
				<li>Tom</li>
			</ul>
			
		</p>
		<p>
			<input type="submit" value="提交" id="sub">
		</p>
	</form>
</body>
</html>